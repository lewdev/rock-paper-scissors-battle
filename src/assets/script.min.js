var d=a.getContext("2d"),f=window,g=document,h=Math,k=h.random,l=!1,m=["🧱","📃","✂️"],n=Array(90).fill().map(()=>({g:"",x:0,y:0})),p=null,q=()=>{for(i=0;90>i;i++){var t=n[i];t.g=m[i%3],t.x=k()*innerWidth,t.y=k()*innerHeight}l=!0,clearTimeout(p),d.font="40px serif"},r=()=>{a.width=innerWidth,a.height=innerHeight};f.addEventListener("resize",r),r();var A,v,B,C,D,t=(t,e)=>{var n=t.x-e.x;return e=t.y-e.y,h.sqrt(n*n+e*e)},u=t=>{var e=v;return h.atan2(e.y-t.y,e.x-t.x)},w={},z=(t,e)=>{d.fillStyle="black",d.fillText(t+" "+(w[t]?w[t].length:0),30,e)};setInterval(()=>{l&&(d.fillStyle="#888",d.rect(0,0,innerWidth,innerHeight),d.fill(),n.map(e=>{0<(A=n.filter(t=>t.g&&("🧱"===e.g&&"✂️"===t.g||"📃"===e.g&&"🧱"===t.g||"✂️"===e.g&&"📃"===t.g))).length&&(A.sort((n,i)=>t(e,n)-t(e,i)),v=A[0],D=u(e)+(.4*k()-.2),B=3*h.cos(D),C=3*h.sin(D),e.x+=B,e.y+=C)}),n.map(t=>d.fillText(t.g,t.x-20,t.y+20)),n.map(e=>{0<(A=n.filter(t=>e.g&&("🧱"===e.g&&"✂️"===t.g||"📃"===e.g&&"🧱"===t.g||"✂️"===e.g&&"📃"===t.g))).length&&(A.sort((n,i)=>t(e,n)-t(e,i)),v=A[0],5>t(e,v)&&(v.g="",d.fillText("💥",e.x-20,e.y+20)))}),m.map((t,e)=>{w[t]=n.filter(e=>e.g===t),z(t,70+70*e)}),E()&&(l=!1,p=setTimeout(q,6e3)))},20),E=(()=>1===m.filter(t=>F(t)).length),F=(t=>2===m.filter(e=>e!==t&&(!w[e]||0===w[e].length)).length&&(d.font=innerWidth/6+"px serif",str=t+" WINS",x=innerWidth/2-d.measureText(str).width/2,y=innerHeight/2,d.fillText(str,x,y),!0)),g.onclick=g.ontouchend=g.onkeyup=q,onload=q;